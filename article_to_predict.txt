TUCSON — An Arizona law that put an end to ethnic studies courses in Tucson schools has been largely upheld as constitutional by a federal judge, but supporters of the program say their legal fight to restore the program will continue.

U.S. Circuit Court Judge Wallace Tashima on Friday found most of the law that bans public schools from teaching certain race-related courses, such as Mexican American studies, constitutional with one small exception. Tashima ruled that the portion of the law that prohibits courses designed for certain ethnic groups was unconstitutionally vague.

Tashima ruled that the provision’s wording was “broad and ambiguous,” raising serious constitutional concerns that threaten “to chill the teaching of legitimate and objective ethnic studies courses.”

Still, Arizona Atty. Gen. Tom Horne this week called the ruling on HB 2281 a “victory for ensuring that public education is not held captive to radical, political elements and that students treat each other as individuals — not on the basis of the race they were born into.”

Horne, who wrote the law, and those who support it said the Mexican American Studies Program in the Tucson school system promoted resentment toward a race or a class of people and advocated ethnic solidarity instead of the treatment of people as individuals.

Defenders of the program rejected that characterization and said it taught often neglected aspects of U.S. history and inspired Latino students to excel in school.

Trustees of the Tucson Unified School District discontinued the program in January 2012 after state officials determined the program violated the new law.

The Save Ethnic Studies group, based in Tucson, declared the case “not over.” Richard Martinez, an attorney who filed suit against the law, acknowledged Tuesday that the legal road ahead would probably be long and steep.

Still, he said the group would forge ahead.

“Too much is at stake. The right of every student to learn and teacher to teach the history, literature and culture of Latinos in Arizona is currently prohibited,” the group said in a statement Monday. “Mexican American Studies proved to be a valuable educational program.”

In his ruling, Tashima stated that the arguments made against the law “do not meet the high threshold needed to establish a constitutional violation.”

Although the judge said the program’s defenders failed to show discriminatory intent, he found that several aspects of the law and the public debate about it “may be viewed to spark suspicion that the Latino population has been improperly targeted.”

“This single-minded focus on terminating the [Mexican American studies] program, along with Horne’s decision not to issue findings against other ethnic studies programs, is at least suggestive of discriminatory intent,” Tashima wrote.

Several students and teachers in the district challenged the law on several grounds, including that it violated free speech and is unconstitutionally vague.